<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kittie.exe ‚Äî Poes√≠a Interactiva</title>

    <!-- Fuentes pixel / retro -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap"
      rel="stylesheet"
    />

    <!-- Estilos principales -->
    <link rel="stylesheet" href="/kittie/styles/main.css" />
    
  </head>

  <body>
    <canvas class="scanline" aria-hidden="true"></canvas>

    <!-- ENCABEZADO -->
    <header class="hero" id="inicio">
      <div class="hero__content">
        <p class="hero__tag">&gt; poes√≠a en c√≥digo</p>
        <h1 class="hero__title">Kittie.exe</h1>
        <p class="hero__subtitle">Poemas en pixeles y memoria.</p>

        <nav class="hero__nav">
          <a href="cuaderno.html">Poes√≠a de Cuaderno</a>
          <a href="poema-digital.html">Ma√≠ces sonoros</a>
          <a href="video-poema.html">Miedos sutiles</a> 
          <a href="bot.html">Respiro contigo</a>
        </nav>
      </div>
    </header>

    <!-- PIE DE P√ÅGINA -->
    <footer class="footer">
      <p>¬© 2025 Kittie.exe ¬∑ Poes√≠a KSSS.</p>
      <p>
        Espacio interno
        <span class="footer__highlight">Kathleen Stephany Soto Sigala</span>.
      </p>
    </footer>

    <!-- ========================= -->
    <!-- SONIDOS TIPO CONSOLA üéÆ -->
    <!-- ========================= -->
    <script>
      let audioCtx = null;

      function playBeep(freq = 440, duration = 0.15) {
        // crear / reactivar el AudioContext DENTRO del gesto de clic
        if (!audioCtx) {
          audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }
        if (audioCtx.state === "suspended") {
          audioCtx.resume();
        }

        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();

        osc.type = "square";           // sonido retro
        osc.frequency.value = freq;

        const now = audioCtx.currentTime;
        gain.gain.setValueAtTime(0.3, now);
        gain.gain.exponentialRampToValueAtTime(0.001, now + duration);

        osc.connect(gain);
        gain.connect(audioCtx.destination);

        osc.start(now);
        osc.stop(now + duration);
      }

      document.addEventListener("DOMContentLoaded", () => {
        // üëâ Aqu√≠ pon las frecuencias reales de tus ratones si quieres
        const frecsRatones = [220, 247, 262, 294]; // EJEMPLO

        // Seleccionar:
        // - los links del men√∫
        // - los botones .a--back
        // - CUALQUIER bot√≥n con clase "boton-sonido" (por si agregas m√°s)
        const sonidoBtns = document.querySelectorAll(
        ".hero__nav a, .a--back, .boton-sonido"
        );

        sonidoBtns.forEach((btn, i) => {
        const freq = frecsRatones[i % frecsRatones.length];

        btn.addEventListener("click", (e) => {
        e.preventDefault();
        playBeep(freq, 180);

        // solo si es un enlace (no bot√≥n)
        if (btn.href) {
          setTimeout(() => {
          window.location.href = btn.href;
          }, 200);
            }
        });
      });

        linksMenu.forEach((link, i) => {
          const freq = frecsRatones[i % frecsRatones.length];

          link.addEventListener("click", (e) => {
            e.preventDefault(); // que NO cambie de p√°gina todav√≠a
            playBeep(freq);    // hace beep

            // cambiar de p√°gina un poquito despu√©s del beep
            setTimeout(() => {
              window.location.href = link.href;
            }, 180); // 180 ms, puedes subir a 250 si lo quieres m√°s clarito
          });
        });
      });
    </script>
    <script src="/kittie/scripts/sonidos.js"></script>
  </body>
</html>
